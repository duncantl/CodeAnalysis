+ findAssignsTo(findCallsTo, "isEnv") doesn't find the assignment in the if condition.

+ code analysis example
  + highlight package getStyleFile() has
  ```
  if (grepl(sprintf("%s$", extension, ignore.case = TRUE),  name))
  ```
  + the ignore.case is in the call to sprintf() and the command
  gives a warning about ignoring an argument to sprintf.
  + The ignore.case should be outside the sprintf() and in the call to grepl()
     + but since sprintf() has ... it is ambiguous, but not really
  + check whether a named argument in a call makes sense in the parent call.

+ findFunctionDefs()/getFunctionDefs() doesn't handle  name = name2 = function() ...
   + only captures name and not name2
   + e.g. RDCOMEvents/eventServer.S
   + shouldn't need recursive = TRUE to find name in name = name2 = function() ..
   + works now, but not with recursive = TRUE

+ getFunctionDefs() - have it find functions in setMethod()
   + âˆš already works with recursive = TRUE.
   + perhaps put better name on these methods and generics.
     + need state, or ability to go back up tree.

+ false positive for global variables in R CMD check for textConnection("bob", local = TRUE); bob

+ fix callGraph(fun) and the name used is obj.

+ implement findOS()/mkOSWalker for finding code that depends on the platform/OS

+ If a function has a literal extrernalptr inlined, then getGlobals() fails in lapply(els, fun, w)

+ Fix mkGlobalsLocal() to optionally not add a default value to a parameter
   e.g. not replace Jvar with .Jvar = Jvar

+ Have mkGlobalsLocal() return the entire list, not just the ones that were changed.
   Make this an option.

+ mkGlobalsLocal() not changing references inside return() clause. See rstatic probably.


for loop concatenation, rewrite the code.
  We need type information about the elements to be able to initialize the answer vector.

[Done] removeAfterReturn  should work recursively to process blocks within functions.

[Done] remove unused parameters

[Done] remove unused assignments if we can tell there are no side effects of the RHS.